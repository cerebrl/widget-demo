import e from"../../../node_modules/xss/lib/index.js";import{get_store_value as o}from"../../../node_modules/svelte/internal/index.js";import r from"../../../node_modules/zod/lib/index.js";import{strings as t}from"../locale.store.js";const s=r.record(r.string().regex(/^[^<>]*$/)).optional();function n(r,n,i){if(!r)throw new Error("No key provided to t()");const l=o(t),p=l&&l[r]||"";let d="";if(n?(s.parse(n),Object.keys(n).map((e=>{const o=new RegExp(`{${e}}`,"g");d=p.replace(o,n[e])}))):d=p,d||i)!d&&i&&(d=i);else{const e=r.replace(/([A-Z])/g," $1");d=e.charAt(0).toUpperCase()+e.slice(1)}return e(d)}export{n as interpolate};