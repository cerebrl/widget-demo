import{SvelteComponent as t,init as e,safe_not_equal as l,create_slot as n,element as i,attr as s,insert as o,listen as a,prevent_default as r,update_slot_base as d,get_all_dirty_from_scope as u,get_slot_changes as c,transition_in as m,transition_out as f,detach as h,binding_callbacks as _}from"../../../../../node_modules/svelte/internal/index.js";function b(t){let e,l,_,b,v;const $=t[5].default,p=n($,t,t[4],null);return{c(){e=i("form"),p&&p.c(),s(e,"class",l="tw_form-base "+(t[1]?"tw_form-valid":"tw_form-invalid")),e.noValidate=!0},m(l,n){o(l,e,n),p&&p.m(e,null),t[6](e),_=!0,b||(v=a(e,"submit",r(t[2])),b=!0)},p(t,[n]){p&&p.p&&(!_||16&n)&&d(p,$,t,t[4],_?c($,t[4],n,null):u(t[4]),null),(!_||2&n&&l!==(l="tw_form-base "+(t[1]?"tw_form-valid":"tw_form-invalid")))&&s(e,"class",l)},i(t){_||(m(p,t),_=!0)},o(t){f(p,t),_=!1},d(l){l&&h(e),p&&p.d(l),t[6](null),b=!1,v()}}}function v(t,e,l){let{$$slots:n={},$$scope:i}=e,{formEl:s=null}=e,{onSubmitWhenValid:o}=e,a=!1;return t.$$set=t=>{"formEl"in t&&l(0,s=t.formEl),"onSubmitWhenValid"in t&&l(3,o=t.onSubmitWhenValid),"$$scope"in t&&l(4,i=t.$$scope)},[s,a,function(t){const e=t.target;let n=null;l(1,a=!1),Array.from(e.children).forEach(((t,e)=>{const l=t.querySelectorAll("input, select, textarea");l?.length&&Array.from(l).forEach((t=>{const l=t.checkValidity(),i=t.getAttribute("aria-describedby")||"",s=document.getElementById(i)?.querySelector(".__input-message");l?(t.setAttribute("aria-invalid","false"),s?.classList.remove("tw_isInvalid"),s?.classList.add("tw_hidden")):(t.setAttribute("aria-invalid","true"),i&&(s?.classList.add("tw_isInvalid"),s?.classList.remove("tw_hidden")),null===n&&(t.focus(),n=e)),console.log(`Is element at index ${e} valid ${l}`)}))})),null===n&&(l(1,a=!0),o(t,a))},o,i,n,function(t){_[t?"unshift":"push"]((()=>{s=t,l(0,s)}))}]}class $ extends t{constructor(t){super(),e(this,t,v,b,l,{formEl:0,onSubmitWhenValid:3})}}export{$ as default};